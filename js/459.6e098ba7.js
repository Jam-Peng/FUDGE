"use strict";(self["webpackChunkfudge"]=self["webpackChunkfudge"]||[]).push([[459],{8459:function(e,t,l){l.d(t,{Z:function(){return Ve}});var o=l(3396),a=l(9242);const i={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},n={class:"modal-dialog modal-xl",role:"document"},s={class:"modal-content border-0"},c=(0,o._)("div",{class:"modal-header bg-dark text-white"},[(0,o._)("h5",{class:"modal-title",id:"exampleModalLabel"},[(0,o._)("span",null,"LookBook")]),(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),r={class:"modal-body"},d={class:"row"},m={class:"col-6"},p={class:"mb-3"},b=(0,o._)("label",{for:"title",class:"form-label"},"標題",-1),u={class:"row gx-2"},_={class:"mb-3 col-md-6"},f=(0,o._)("label",{for:"author",class:"form-label"},"編輯人",-1),h={class:"mb-3 col-md-6"},v=(0,o._)("label",{for:"create_at",class:"form-label"},"編輯日期",-1),g=(0,o._)("hr",null,null,-1),y={key:0,class:"mb-3"},A=(0,o._)("label",{for:"description",class:"form-label"},"文章描述",-1),w={class:"mb-3"},x=(0,o._)("label",{for:"content",class:"form-label"},"文章內容",-1),k={class:"mb-3"},M=(0,o._)("label",{for:"content",class:"form-label"},"文章第二段內容",-1),L={class:"mb-3"},I=(0,o._)("label",{for:"content",class:"form-label"},"文章第三段內容",-1),U={class:"mb-3"},V=(0,o._)("label",{for:"content",class:"form-label"},"文章第四段內容",-1),C={class:"mb-3"},D=(0,o._)("label",{for:"content",class:"form-label"},"文章第五段內容",-1),F={class:"mb-3"},S=(0,o._)("label",{for:"content",class:"form-label"},"文章第六段內容",-1),T={class:"mb-3"},$=(0,o._)("label",{for:"content",class:"form-label"},"文章第七段內容",-1),j={class:"mb-3"},Z=(0,o._)("label",{for:"content",class:"form-label"},"文章第八段內容",-1),N={class:"mb-3"},E=(0,o._)("label",{for:"content",class:"form-label"},"文章第九段內容",-1),O={class:"mb-3"},P=(0,o._)("label",{for:"content",class:"form-label"},"文章第十段內容",-1),W={class:"mb-3"},B={class:"form-check"},H=(0,o._)("label",{class:"form-check-label",for:"isPublic"}," 是否啟用 ",-1),Y={class:"modal-footer"},q=(0,o._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1),K={class:"col-6"},z={class:"row"},G={class:"mb-3"},J=(0,o._)("label",{for:"lookbookFile",class:"form-label"},"上傳圖片 ",-1),Q=["src"],R=["onClick"],X=(0,o.Uk)("移除 ");function ee(e,t,l,ee,te,le){const oe=(0,o.up)("font-awesome-icon"),ae=(0,o.up)("lbALLImgLimitModal"),ie=(0,o.up)("lookbookImgLimitModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o._)("div",n,[(0,o._)("div",s,[c,(0,o._)("div",r,[(0,o._)("div",d,[(0,o._)("div",m,[(0,o._)("div",p,[b,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題","onUpdate:modelValue":t[0]||(t[0]=e=>te.tempArticle.title=e)},null,512),[[a.nr,te.tempArticle.title,void 0,{trim:!0}]])]),(0,o._)("div",u,[(0,o._)("div",_,[f,(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",id:"author",placeholder:"請輸入編輯人","onUpdate:modelValue":t[1]||(t[1]=e=>te.tempArticle.author=e)},null,512),[[a.nr,te.tempArticle.author,void 0,{trim:!0}]])]),(0,o._)("div",h,[v,(0,o.wy)((0,o._)("input",{type:"date",class:"form-control",id:"create_at","onUpdate:modelValue":t[2]||(t[2]=e=>te.create_at=e)},null,512),[[a.nr,te.create_at]])])]),g,l.updateArticle?((0,o.wg)(),(0,o.iD)("div",y,[A,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入文章描述","onUpdate:modelValue":t[3]||(t[3]=e=>te.tempArticle.description=e)},null,512),[[a.nr,te.tempArticle.description,void 0,{trim:!0}]])])):(0,o.kq)("",!0),(0,o._)("div",w,[x,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入文章內容",rows:"5","onUpdate:modelValue":t[4]||(t[4]=e=>te.tempArticle.content=e)},null,512),[[a.nr,te.tempArticle.content,void 0,{trim:!0}]])]),(0,o._)("div",k,[M,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第二段文章內容",rows:"5","onUpdate:modelValue":t[5]||(t[5]=e=>te.tempArticle.contentTwo=e)},null,512),[[a.nr,te.tempArticle.contentTwo,void 0,{trim:!0}]])]),(0,o._)("div",L,[I,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第三段文章內容",rows:"5","onUpdate:modelValue":t[6]||(t[6]=e=>te.tempArticle.contentThree=e)},null,512),[[a.nr,te.tempArticle.contentThree,void 0,{trim:!0}]])]),(0,o._)("div",U,[V,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第四段文章內容",rows:"5","onUpdate:modelValue":t[7]||(t[7]=e=>te.tempArticle.contentFour=e)},null,512),[[a.nr,te.tempArticle.contentFour,void 0,{trim:!0}]])]),(0,o._)("div",C,[D,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第五段文章內容",rows:"5","onUpdate:modelValue":t[8]||(t[8]=e=>te.tempArticle.contentFive=e)},null,512),[[a.nr,te.tempArticle.contentFive,void 0,{trim:!0}]])]),(0,o._)("div",F,[S,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第六段文章內容",rows:"5","onUpdate:modelValue":t[9]||(t[9]=e=>te.tempArticle.contentSix=e)},null,512),[[a.nr,te.tempArticle.contentSix,void 0,{trim:!0}]])]),(0,o._)("div",T,[$,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第七段文章內容",rows:"5","onUpdate:modelValue":t[10]||(t[10]=e=>te.tempArticle.contentSeven=e)},null,512),[[a.nr,te.tempArticle.contentSeven,void 0,{trim:!0}]])]),(0,o._)("div",j,[Z,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第八段文章內容",rows:"5","onUpdate:modelValue":t[11]||(t[11]=e=>te.tempArticle.contentEight=e)},null,512),[[a.nr,te.tempArticle.contentEight,void 0,{trim:!0}]])]),(0,o._)("div",N,[E,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第九段文章內容",rows:"5","onUpdate:modelValue":t[12]||(t[12]=e=>te.tempArticle.contentNine=e)},null,512),[[a.nr,te.tempArticle.contentNine,void 0,{trim:!0}]])]),(0,o._)("div",O,[P,(0,o.wy)((0,o._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入第十段文章內容",rows:"5","onUpdate:modelValue":t[13]||(t[13]=e=>te.tempArticle.contentTen=e)},null,512),[[a.nr,te.tempArticle.contentTen,void 0,{trim:!0}]])]),(0,o._)("div",W,[(0,o._)("div",B,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox","true-value":!0,"false-value":!1,id:"isPublic","onUpdate:modelValue":t[14]||(t[14]=e=>te.tempArticle.isPublic=e)},null,512),[[a.e8,te.tempArticle.isPublic]]),H])]),(0,o._)("div",Y,[q,te.tempArticle.description?((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",class:"btn btn-primary",onClick:t[16]||(t[16]=t=>e.$emit("updatArticle",te.tempArticle))}," 更新文章 ")):((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[15]||(t[15]=(...e)=>le.emitNewArticke&&le.emitNewArticke(...e))}," 確定 "))])]),(0,o._)("div",K,[(0,o._)("div",z,[(0,o._)("div",G,[J,(0,o._)("input",{type:"file",id:"lookbookFile",class:"form-control",onChange:t[17]||(t[17]=(...e)=>le.uploadLookbook&&le.uploadLookbook(...e)),ref:"lookbookFile",multiple:""},null,544)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(te.tempArticle.images,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-6 g-3 mt-2",key:e},[(0,o._)("img",{class:"img-fluid",alt:"",src:e},null,8,Q),(0,o._)("button",{type:"button",class:"btn btn-outline-danger btn-sm mt-2 col-4",onClick:t=>le.removeImage(e)},[(0,o.Wm)(oe,{class:"icons icon-trash-can me-2",icon:["fas","trash-can"]}),X],8,R)])))),128))])])])])])])],512),(0,o.Wm)(ae,{ref:"lbALLImgLimitModal"},null,512),(0,o.Wm)(ie,{ref:"lookbookImgLimitModal"},null,512)],64)}var te=l(1339);const le={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},oe={class:"modal-dialog modal-sm p-2",role:"document"},ae={class:"modal-content p-4 bg-light"},ie={class:"modal_header row position-relative"},ne=(0,o._)("i",{class:"bi bi-x-lg"},null,-1),se=[ne],ce=(0,o._)("div",{class:"modal-body"},[(0,o._)("div",{class:"row lbImages_text"},[(0,o._)("div",{class:"col-sm-12 d-flex justify-content-center align-items-center mb-2"},[(0,o._)("span",{class:""},"最多上傳8張照片")])])],-1),re={class:"modal_footer d-flex justify-content-center"};function de(e,t,l,a,i,n){return(0,o.wg)(),(0,o.iD)("div",le,[(0,o._)("div",oe,[(0,o._)("div",ae,[(0,o._)("div",ie,[(0,o._)("button",{type:"button",class:"btn btn-outline-danger d-flex justify-content-center align-items-center lbImages_Modal",onClick:t[0]||(t[0]=(...t)=>e.hideModal&&e.hideModal(...t))},se)]),ce,(0,o._)("div",re,[(0,o._)("button",{type:"button",class:"col-sm-6 btn btn-secondary btn-sm",onClick:t[1]||(t[1]=(...t)=>e.hideModal&&e.hideModal(...t))}," 確定 ")])])])],512)}var me={data(){return{modal:{}}},mixins:[te.Z]},pe=l(89);const be=(0,pe.Z)(me,[["render",de]]);var ue=be;const _e={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},fe={class:"modal-dialog modal-sm p-2",role:"document"},he={class:"modal-content p-4 bg-light"},ve={class:"modal_header row position-relative"},ge=(0,o._)("i",{class:"bi bi-x-lg"},null,-1),ye=[ge],Ae=(0,o._)("div",{class:"modal-body"},[(0,o._)("div",{class:"row noImage_text"},[(0,o._)("div",{class:"col-sm-12 d-flex justify-content-center align-items-center mb-2"},[(0,o._)("span",{class:""},"請最少新增一張照片")])])],-1),we={class:"modal_footer d-flex justify-content-center"};function xe(e,t,l,a,i,n){return(0,o.wg)(),(0,o.iD)("div",_e,[(0,o._)("div",fe,[(0,o._)("div",he,[(0,o._)("div",ve,[(0,o._)("button",{type:"button",class:"btn btn-outline-danger d-flex justify-content-center align-items-center noImage_Modal",onClick:t[0]||(t[0]=(...t)=>e.hideModal&&e.hideModal(...t))},ye)]),Ae,(0,o._)("div",we,[(0,o._)("button",{type:"button",class:"col-sm-6 btn btn-secondary btn-sm",onClick:t[1]||(t[1]=(...t)=>e.hideModal&&e.hideModal(...t))}," 確定 ")])])])],512)}var ke={data(){return{modal:{}}},mixins:[te.Z]};const Me=(0,pe.Z)(ke,[["render",xe]]);var Le=Me,Ie={components:{lbALLImgLimitModal:ue,lookbookImgLimitModal:Le},data(){return{modal:{},tempArticle:{},create_at:""}},props:{article:{type:Object,default(){return{}}},updateArticle:{}},emits:["newArticle","updatArticle"],watch:{article(){this.tempArticle={...this.article},this.tempArticle.images||(this.tempArticle.images=[],this.tempArticle.firstImage="");const e=new Date(1e3*(this.tempArticle.create_at+28800)).toISOString().split("T");[this.create_at]=e},create_at(){this.tempArticle.create_at=Math.floor(new Date(this.create_at)/1e3)},updateArticle(){this.tempArticle={...this.updateArticle};const e=new Date(1e3*this.tempArticle.create_at).toISOString().split("T");[this.create_at]=e}},methods:{emitNewArticke(){""===this.tempArticle.firstImage?this.$refs.lookbookImgLimitModal.showModel():this.$emit("newArticle",this.tempArticle)},uploadLookbook(){if(Array.from(this.$refs.lookbookFile.files).length+this.tempArticle.images.length>8)this.$refs.lbALLImgLimitModal.showModel();else{const e=this.$refs.lookbookFile.id;Array.from(this.$refs.lookbookFile.files).forEach((t=>{const l=t,o=new FormData;o.append("file-to-upload",l);const a="https://vue3-course-api.hexschool.io/api/pengplan-api/admin/upload";this.$http.post(a,o).then((t=>{t.data.success&&(this.tempArticle.images.push(t.data.imageUrl),this.tempArticle.firstImage=this.tempArticle.images[0]),document.getElementById(e).value=""})).catch((e=>{console.log(e.response)}))}))}},removeImage(e){const t=this.tempArticle.images.indexOf(e);this.tempArticle.images.splice(t,1)}},mixins:[te.Z]};const Ue=(0,pe.Z)(Ie,[["render",ee]]);var Ve=Ue}}]);
//# sourceMappingURL=459.6e098ba7.js.map